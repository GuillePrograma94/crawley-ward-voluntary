---
import { marked } from 'marked';
import Button from '@components/Button.astro';
import Section from '@components/Section.astro';

const { heading, body, cta, ...rest } = Astro.props;
---

<Section {...rest} class="text-center">
    {
        heading && (
            <h1 class="text-4xl font-bold sm:text-6xl text-balance" data-sb-field-path=".heading">
                {heading}
            </h1>
        )
    }
    {body && <div class:list={['mx-auto', heading && 'mt-6', 'max-w-prose markdown']} data-sb-field-path=".body" set:html={marked.parse(body)} />}
    {
        cta && cta.length > 0 && (
            <div class:list={[(heading || body) && 'mt-8', 'flex flex-wrap items-center justify-center gap-4']} data-sb-field-path=".cta">
                {cta.map((item, index) => (
                    <Button {...item} class:list={[cta.variant === 'text' && 'font-bold underline hover:no-underline']} data-sb-field-path={`.${index}`} />
                ))}
            </div>
        )
    }
</Section>
